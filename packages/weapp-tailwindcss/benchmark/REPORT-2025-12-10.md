# Benchmark report (2025-12-10 16:42 CST)

- command: `pnpm vitest bench test/core.bench.ts test/bundlers.bench.ts --config ./vitest.config.ts`
- vitest benchmark output: `benchmark/bench-report.json`
- options: webpack/vite time=150ms iterations=3 minSamples=3; gulp time=120ms iterations=3 minSamples=3; core benches use default options from `test/core.bench.ts`.

## Core runtime (mean per run)

- wxss transform (v4 default bundle): 46.82ms mean, 21.36 ops/s, samples: 10
- wxss transform (mpx component bundle): 39.75ms mean, 25.16 ops/s, samples: 10
- wxml transform (tdesign button): 0.099ms mean, 10_100 ops/s, samples: 3031
- js transform (large bundle, auto runtime discovery): 42.79ms mean, 23.37 ops/s, samples: 10
- js transform (large bundle, reused runtime set): 35.36ms mean, 28.28 ops/s, samples: 10
- end-to-end pipeline (cold context bootstrap): 80.58ms mean, 12.41 ops/s, samples: 10

## Webpack plugin (wxml fixture)

- development build: 53.63ms mean, 18.64 ops/s, samples: 3
- production build: 52.30ms mean, 19.12 ops/s, samples: 3

## Vite plugin (miniapp fixture)

- rewrite hook + bundle patch: 16.85ms mean, 59.35 ops/s, samples: 9

## Gulp plugin (fixture pipeline)

- css/js/wxml transforms: 146.26ms mean, 6.84 ops/s, samples: 3

## Notes on scenarios

- Webpack benchmark runs memfs compiles of the `test/fixtures/webpack/v5/wxml` project with Tailwind CSS processing and `UnifiedWebpackPluginV5`.
- Vite benchmark exercises `UnifiedViteWeappTailwindcssPlugin` rewrite hooks and `generateBundle` against the `test/fixtures/vite` miniapp bundle (no disk writes).
- Gulp benchmark streams the `test/fixtures/gulp` sources through Tailwind CSS, then `createPlugins()` transforms for JS/WXML/CSS with stream draining (default cache on).
- Core runtime benchmarks remain unchanged and reuse the warm context plus cold end-to-end path from `test/core.bench.ts`.
