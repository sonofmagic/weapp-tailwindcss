---
sidebar_label: å…¥é—¨ç¯‡
sidebar_position: 1
toc_max_heading_level: 4
---

import CssImportReminder from '@site/src/components/CssImportReminder';

# å…¥é—¨ç¯‡ï¼šå¿«é€Ÿè®¤è¯† Tailwind CSS 4 ä¸ weapp-tailwindcss

Tailwind CSS 4 é‡æ–°å®šä¹‰äº†â€œåŸå­åŒ–â€æ ·å¼çš„ç»„ç»‡æ–¹å¼ï¼šé…ç½®æ–‡ä»¶æ¢æˆäº† `CSS`ï¼Œä¸»é¢˜å˜é‡ä¸è‡ªå®šä¹‰å·¥å…·ä¹Ÿå˜æˆäº†åŸç”Ÿè¯­æ³•ã€‚è¿™ä¸€å˜åŒ–å¯¹å°ç¨‹åºç”Ÿæ€åŒæ ·ç”Ÿæ•ˆï¼Œ`weapp-tailwindcss` å·²ç»é€‚é…äº†æ–°çš„ç¼–è¯‘æµç¨‹ã€‚æœ¬ç¯‡å…¥é—¨æŒ‡å—å¸®åŠ©ä½ åœ¨ 30 åˆ†é’Ÿå†…ä»é›¶æ­å¥½ä¸€å¥— `tailwindcss@4` + `weapp-tailwindcss` çš„åŸºç¡€å¼€å‘ç¯å¢ƒï¼Œå¹¶ç†è§£æœ€æ ¸å¿ƒçš„æ¦‚å¿µã€‚

## æœ¬ç¯‡èƒ½å­¦åˆ°ä»€ä¹ˆ

- æ­å»ºä¸€å¥—å¯è¿è¡Œçš„ Tailwind CSS 4 + å°ç¨‹åºé¡¹ç›®éª¨æ¶
- åˆ†æ¸…æ ¸å¿ƒé…ç½®ï¼ˆ`cssEntries`ã€`@source`ã€`@reference` ç­‰ï¼‰å„è‡ªè´Ÿè´£çš„äº‹æƒ…
- ç†è§£ `@tailwindcss/postcss`ã€`@tailwindcss/vite` ä¸ç¼–è¯‘æ’ä»¶çš„å·®å¼‚
- æŒæ¡éªŒè¯æ ·å¼æ˜¯å¦ç”Ÿæ•ˆçš„æœ€å°é—­ç¯ï¼Œé¿å…â€œå†™äº†æ²¡ç”Ÿæ•ˆâ€çš„å¸¸è§å‘

å¦‚æœä½ è¿˜æœªæ¥è§¦è¿‡ `weapp-tailwindcss`ï¼Œå»ºè®®å…ˆæµè§ˆ [æ–°æ‰‹å¿«é€Ÿä¸Šæ‰‹ï¼ˆTailwind CSS 3.xï¼‰](/docs/quick-start/install) äº†è§£æ’ä»¶èƒ½è§£å†³çš„é—®é¢˜ï¼Œå†å›æ¥å®Œæˆ 4.x çš„é…ç½®ã€‚

## ç¯å¢ƒå‡†å¤‡

| åç§° | è¯´æ˜ |
| --- | --- |
| Node.js â‰¥ 18 | Tailwind CSS 4 è¦æ±‚æ›´é«˜çš„ Node ç‰ˆæœ¬ï¼Œå»ºè®®ä½¿ç”¨ LTS 20 |
| pnpm â‰¥ 8 | Monorepo ä¸æ–‡æ¡£é¡¹ç›®ç»Ÿä¸€ä½¿ç”¨ `pnpm` |
| å°ç¨‹åºæ¡†æ¶ | ä»»é€‰ `weapp-vite`ã€`uni-app`ã€`taro` ç­‰ï¼Œæ¨èä½¿ç”¨ç°æˆæ¨¡æ¿ |
| ä»£ç ç¼–è¾‘å™¨ | VS Code å¹¶å®‰è£… `Tailwind CSS IntelliSense` æ’ä»¶ |

åˆå§‹åŒ–é¡¹ç›®åï¼Œæ‰§è¡Œä¸€æ¬¡ `pnpm install` ä»¥åŠæ¡†æ¶ CLI çš„åˆå§‹åŒ–å‘½ä»¤ï¼ˆå¦‚ `pnpm create @tarojs/cli`ï¼‰ã€‚éšåå³å¯è¿›å…¥ Tailwind CSS é…ç½®æ­¥éª¤ã€‚

## æ­¥éª¤ä¸€ï¼šå®‰è£…ä¾èµ–

åœ¨é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œï¼š

```bash
pnpm add -D tailwindcss@latest @tailwindcss/postcss postcss weapp-tailwindcss
```

> `@tailwindcss/postcss` å…¼å®¹ Viteã€Webpackã€Rspack ç­‰å¤§å¤šæ•°æ„å»ºé“¾è·¯ï¼›å¯¹äºçº¯ Vite é¡¹ç›®ä¹Ÿå¯ä»¥é…Œæƒ…æ”¹ç”¨ `@tailwindcss/vite`ï¼Œä½†åœ¨å°ç¨‹åºåœºæ™¯ä¸‹ `postcss` æ–¹æ¡ˆæ›´ç¨³å®šã€‚

## æ­¥éª¤äºŒï¼šæ³¨å†Œ weapp-tailwindcss æ’ä»¶

ä»¥ `weapp-vite` ä¸ºä¾‹ï¼ˆä¸åŒæ¡†æ¶è¯·å¯¹ç…§å¯¹åº”çš„ [é›†æˆæŒ‡å—](/docs/quick-start/v4)ï¼‰ï¼š

```ts title="vite.config.ts"
import path from 'node:path'
import { defineConfig } from 'weapp-vite/config'
import { UnifiedViteWeappTailwindcssPlugin } from 'weapp-tailwindcss/vite'

export default defineConfig({
  plugins: [
    UnifiedViteWeappTailwindcssPlugin({
      // å¸¸ç”¨å†…ç½®èƒ½åŠ›ï¼šå¼€å¯ px è‡ªåŠ¨è½¬æ¢
      rem2rpx: true,
      cssEntries: [
        // å£°æ˜ Tailwind çš„å…¥å£ CSSï¼Œå¿…é¡»æ˜¯ç»å¯¹è·¯å¾„
        path.resolve(import.meta.dirname, './src/app.css'),
      ],
    }),
  ],
})
```

`cssEntries` å¯¹ `tailwindcss@4` è‡³å…³é‡è¦ï¼Œå®ƒå‘Šè¯‰ `weapp-tailwindcss` å“ªäº› CSS éœ€è¦å‚ä¸ç¼–è¯‘ä¸è½¬ä¹‰ã€‚æ¼æ‰è¯¥é…ç½®å°†å¯¼è‡´äº§ç‰©ä¸­ç¼ºå¤±æ ·å¼ã€‚

## æ­¥éª¤ä¸‰ï¼šé…ç½® PostCSS

```js title="postcss.config.js"
export default {
  plugins: {
    '@tailwindcss/postcss': {},
  },
}
```

Tailwind CSS 4 å·²å†…ç½® Autoprefixerï¼Œæ— éœ€æ‰‹åŠ¨è¡¥å……ã€‚è‹¥é¡¹ç›®ä»éœ€å…¶ä»– PostCSS æ’ä»¶ï¼Œä¿æŒæ—§çš„å†™æ³•å³å¯ã€‚

## æ­¥éª¤å››ï¼šåˆ›å»ºå…¥å£ CSS

åœ¨ `src/app.css` ä¸­å†™å…¥ï¼š

```css title="src/app.css"
@import "tailwindcss";

/* å£°æ˜æ¨¡æ¿æ‰«æè·¯å¾„ï¼Œç¡®ä¿åŸå­ç±»èƒ½è¢«æ”¶é›† */
@source "../src/**/*.{vue,tsx,jsx,svelte,wxml}";

/* éœ€è¦è‡ªå®šä¹‰è®¾è®¡ä»¤ç‰Œæ—¶å¯åœ¨æ­¤ç¼–å†™ */
@theme {
  --color-brand: oklch(67% 0.2 264);
  --spacing-safe: clamp(12px, 1.2vw + 8px, 24px);
}
```

<CssImportReminder />

`@source` æ˜¯ Tailwind 4 çš„æ–°å†™æ³•ï¼Œç”¨äºæ›¿ä»£æ—§ç‰ˆæœ¬çš„ `content` é…ç½®ã€‚è·¯å¾„è¯·æ ¹æ®é¡¹ç›®ç»“æ„è°ƒæ•´ã€‚è‹¥ä½ éœ€è¦åœ¨å±€éƒ¨æ ·å¼æ–‡ä»¶ä½¿ç”¨ `@apply`ï¼Œåœ¨å¯¹åº”æ–‡ä»¶é¡¶éƒ¨æ·»åŠ  `@reference "./app.css";`ã€‚

## æ­¥éª¤äº”ï¼šéªŒè¯ç±»åæ˜¯å¦ç”Ÿæ•ˆ

åˆ›å»ºä¸€ä¸ªæœ€å°é¡µé¢ï¼ˆä»¥ `src/pages/index/index.vue` ä¸ºä¾‹ï¼‰ï¼š

```html title="src/pages/index/index.vue"
<template>
  <view class="flex min-h-screen flex-col items-center justify-center bg-slate-50 px-6 py-safe">
    <view class="w-full max-w-md rounded-3xl bg-white p-6 shadow-lg shadow-slate-200">
      <text class="text-xs font-semibold uppercase tracking-[0.22em] text-slate-500">Tailwind CSS 4</text>
      <text class="mt-3 text-2xl font-bold text-slate-900">æ¬¢è¿æ¥åˆ° weapp-tailwindcss</text>
      <text class="mt-2 text-sm leading-6 text-slate-600">
        ç°åœ¨å¯ä»¥å°è¯•ä¿®æ”¹ <text class="font-medium text-brand">bg-brand</text> æˆ–è‡ªå®šä¹‰ <text class="font-medium">utility</text>ã€‚
      </text>
      <button class="mt-6 inline-flex items-center justify-center rounded-xl bg-brand px-4 py-2 text-sm font-semibold text-white shadow transition hover:bg-brand/90 active:scale-95">
        å¼€å§‹å®è·µ
      </button>
    </view>
  </view>
</template>
```

> `py-safe` æ˜¯æˆ‘ä»¬åœ¨ä¸Šæ–‡ `@theme` ä¸­å£°æ˜çš„è‡ªå®šä¹‰å˜é‡ï¼ˆé€šè¿‡ `--spacing-safe` å¯¼å‡ºï¼‰ï¼Œå¯éªŒè¯ä¸»é¢˜è‡ªå®šä¹‰æ˜¯å¦ç”Ÿæ•ˆã€‚

è¿è¡Œæ¡†æ¶å‘½ä»¤ï¼ˆå¦‚ `pnpm dev:weapp` æˆ– `pnpm run build -- --watch`ï¼‰ï¼ŒæŸ¥çœ‹å¼€å‘è€…å·¥å…·ä¸­çš„é¡µé¢æ˜¯å¦æ¸²æŸ“å‡ºé¢„æœŸæ ·å¼ã€‚å¦‚æœæ²¡æœ‰ï¼š

- æ£€æŸ¥ `cssEntries` æ˜¯å¦æŒ‡å‘äº†æ­£ç¡®è·¯å¾„
- ç¡®è®¤ `@source` æ˜¯å¦åŒ…å«å½“å‰æ–‡ä»¶æ‰©å±•å
- è‹¥åœ¨å•æ–‡ä»¶ç»„ä»¶å†…ä½¿ç”¨ `@apply`ï¼Œç¡®ä¿æ·»åŠ äº† `@reference`

## å¸¸è§ä¸‹ä¸€æ­¥

- é˜…è¯» [Tailwind CSS 4 å®˜æ–¹æ–‡æ¡£](https://tailwindcss.com/docs/installation) äº†è§£æ›´å¤šåŸç”ŸæŒ‡ä»¤
- é’ˆå¯¹ä¸åŒæ¡†æ¶çš„é›†æˆç»†èŠ‚ï¼Œè¯·æŸ¥é˜…ã€ŒğŸ§ªTailwind CSS @4.xã€åˆ†ç±»ä¸­çš„å„ç¯‡æ–‡æ¡£
- æƒ³ç†è§£ `@layer` åœ¨å°ç¨‹åºä¸‹çš„é™çº§æ–¹æ¡ˆï¼Œå¯ç»§ç»­é˜…è¯»æœ¬æ•™ç¨‹çš„ [è¿›é˜¶ç¯‡](/docs/quick-start/v4/tutorial/workflow) ä¸ [é«˜é˜¶ç¯‡](/docs/quick-start/v4/tutorial/advanced)

å®Œæˆæœ¬ç¯‡åï¼Œä½ å·²ç»æ‹¥æœ‰äº†ç¨³å®šçš„åŸºç¡€å¼€å‘ç¯å¢ƒã€‚æ¥ç€è®©æˆ‘ä»¬é€šè¿‡çœŸå®ä¸šåŠ¡ç»„ä»¶æŠŠ Tailwind CSS 4 çš„èƒ½åŠ›ä¸²è”èµ·æ¥ã€‚
