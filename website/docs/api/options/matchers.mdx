---
title: ğŸ§© æ–‡ä»¶åŒ¹é…
sidebar_label: ğŸ§© æ–‡ä»¶åŒ¹é…
sidebar_position: 2
---

import { OptionCard, OptionDetails, OptionTable } from '@site/src/components/docs/OptionCards'

å®šä¹‰äº: [packages/weapp-tailwindcss/src/types/user-defined-options/index.ts:13](https://github.com/sonofmagic/weapp-tailwindcss/blob/59073fec6f66bb3fbd1d15468f6e89437dc3f862/packages/weapp-tailwindcss/src/types/user-defined-options/index.ts#L13)

æœ¬é¡µæ”¶å½• 6 ä¸ªé…ç½®é¡¹ï¼Œæ¥æºäº `UserDefinedOptions`ã€‚

## é…ç½®ä¸€è§ˆ

<OptionDetails title="é…ç½®ä¸€è§ˆ">

<OptionTable>

| é…ç½®é¡¹ | ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
| --- | --- | --- | --- |
| [cssMatcher](#cssmatcher) | `(name: string) => boolean` | `åŒ¹é… *.wxss/acss/jxss/ttss/qss/css/tyss` | åŒ¹é…éœ€è¦å¤„ç†çš„ `wxss` ç­‰æ ·å¼æ–‡ä»¶ã€‚ |
| [htmlMatcher](#htmlmatcher) | `(name: string) => boolean` | `åŒ¹é… *.wxml/axml/jxml/ksml/ttml/qml/tyml/xhsml/swan` | åŒ¹é…éœ€è¦å¤„ç†çš„ `wxml` ç­‰æ¨¡æ¿æ–‡ä»¶ã€‚ |
| [inlineWxs](#inlinewxs) | `boolean` | `false` | æ˜¯å¦è½¬ä¹‰ `wxml` ä¸­çš„å†…è” `wxs`ã€‚ |
| [jsMatcher](#jsmatcher) | `(name: string) => boolean` | `åŒ¹é… *.js/*.mjs/*.cjsï¼ˆæ’é™¤ node_modulesï¼‰` | åŒ¹é…éœ€è¦å¤„ç†çš„ç¼–è¯‘å `js` æ–‡ä»¶ã€‚ |
| [mainCssChunkMatcher](#maincsschunkmatcher) | `(name: string, appType?: AppType) => boolean` | `æŒ‰ appType åŒ¹é… app.css/common/main.css ç­‰` | åŒ¹é…è´Ÿè´£æ³¨å…¥ Tailwind CSS å˜é‡ä½œç”¨åŸŸçš„ CSS Bundleã€‚ |
| [wxsMatcher](#wxsmatcher) | `(name: string) => boolean` | `()=>false` | åŒ¹é…å„ç«¯çš„ `wxs`/`sjs`/`.filter.js` æ–‡ä»¶ã€‚ |

</OptionTable>
</OptionDetails>

## è¯¦ç»†è¯´æ˜

<OptionCard>

### cssMatcher

> å¯é€‰ | ç±»å‹: `(name: string) => boolean`

å®šä¹‰äº: [packages/weapp-tailwindcss/src/types/user-defined-options/matcher.ts:15](https://github.com/sonofmagic/weapp-tailwindcss/blob/59073fec6f66bb3fbd1d15468f6e89437dc3f862/packages/weapp-tailwindcss/src/types/user-defined-options/matcher.ts#L15)

åŒ¹é…éœ€è¦å¤„ç†çš„ `wxss` ç­‰æ ·å¼æ–‡ä»¶ã€‚

<OptionDetails title="é»˜è®¤å€¼ / è¯´æ˜ / ç¤ºä¾‹">
#### å¤‡æ³¨

è¿”å› `true` çš„æ ·å¼ä¼šè¿›å…¥ PostCSS å¤„ç†é“¾è·¯ï¼Œé€šå¸¸ä»…éœ€è¦†ç›–éå¸¸è§„åç¼€æˆ–è‡ªå®šä¹‰ç›®å½•ã€‚

#### é»˜è®¤å€¼

```ts
name => /.+\\.(?:wx|ac|jx|tt|q|c|ty)ss$/.test(name)
```

#### ç¤ºä¾‹

```ts
import { UnifiedViteWeappTailwindcssPlugin as uvtw } from 'weapp-tailwindcss/vite'

uvtw({
  cssMatcher: name => /\\.(?:wxss|acss|css)$/.test(name),
})
```

å‚æ•°ï¼š`name: string`

è¿”å›ï¼š`boolean`

</OptionDetails>
</OptionCard>

<OptionCard>

### htmlMatcher

> å¯é€‰ | ç±»å‹: `(name: string) => boolean`

å®šä¹‰äº: [packages/weapp-tailwindcss/src/types/user-defined-options/matcher.ts:9](https://github.com/sonofmagic/weapp-tailwindcss/blob/59073fec6f66bb3fbd1d15468f6e89437dc3f862/packages/weapp-tailwindcss/src/types/user-defined-options/matcher.ts#L9)

åŒ¹é…éœ€è¦å¤„ç†çš„ `wxml` ç­‰æ¨¡æ¿æ–‡ä»¶ã€‚

<OptionDetails title="é»˜è®¤å€¼ / è¯´æ˜ / ç¤ºä¾‹">
#### å¤‡æ³¨

è¿”å› `true` çš„æ–‡ä»¶ä¼šè¿›å…¥æ¨¡æ¿å¤„ç†æµç¨‹ï¼Œå»ºè®®ä¸ `tailwind.config.js` çš„ `content` èŒƒå›´ä¿æŒä¸€è‡´ã€‚

#### é»˜è®¤å€¼

```ts
name => /.+\\.(?:(?:wx|ax|jx|ks|tt|q|ty|xhs)ml|swan)$/.test(name)
```

#### ç¤ºä¾‹

```ts
import { UnifiedViteWeappTailwindcssPlugin as uvtw } from 'weapp-tailwindcss/vite'

uvtw({
  htmlMatcher: name => /\\.(?:wxml|axml)$/.test(name),
})
```
å‚æ•°ï¼š`name: string`

è¿”å›ï¼š`boolean`

</OptionDetails>
</OptionCard>

<OptionCard>

### inlineWxs

> å¯é€‰ | ç±»å‹: `boolean` | é»˜è®¤å€¼: `false`

å®šä¹‰äº: [packages/weapp-tailwindcss/src/types/user-defined-options/matcher.ts:65](https://github.com/sonofmagic/weapp-tailwindcss/blob/59073fec6f66bb3fbd1d15468f6e89437dc3f862/packages/weapp-tailwindcss/src/types/user-defined-options/matcher.ts#L65)

æ˜¯å¦è½¬ä¹‰ `wxml` ä¸­çš„å†…è” `wxs`ã€‚

<OptionDetails title="é»˜è®¤å€¼ / è¯´æ˜ / ç¤ºä¾‹">
#### å¤‡æ³¨

ä½¿ç”¨å‰åŒæ ·éœ€è¦åœ¨ `tailwind.config.js` ä¸­å£°æ˜ `wxs` æ ¼å¼ã€‚

#### é»˜è®¤å€¼

```ts
false
```

#### ç¤ºä¾‹

```ts
import { UnifiedViteWeappTailwindcssPlugin as uvtw } from 'weapp-tailwindcss/vite'

uvtw({
  inlineWxs: true,
})
```

```html
<!-- index.wxml -->
<wxs module="inline">
// æˆ‘æ˜¯å†…è”wxs
// ä¸‹æ–¹çš„ç±»åä¼šè¢«è½¬ä¹‰
var className = "after:content-['æˆ‘æ˜¯className']"
module.exports = {
className: className
}
</wxs>
<wxs src="./index.wxs" module="outside"/>
<view><view class="{{inline.className}}"></view><view class="{{outside.className}}"></view></view>
```

</OptionDetails>
</OptionCard>

<OptionCard>

### jsMatcher

> å¯é€‰ | ç±»å‹: `(name: string) => boolean`

å®šä¹‰äº: [packages/weapp-tailwindcss/src/types/user-defined-options/matcher.ts:21](https://github.com/sonofmagic/weapp-tailwindcss/blob/59073fec6f66bb3fbd1d15468f6e89437dc3f862/packages/weapp-tailwindcss/src/types/user-defined-options/matcher.ts#L21)

åŒ¹é…éœ€è¦å¤„ç†çš„ç¼–è¯‘å `js` æ–‡ä»¶ã€‚

<OptionDetails title="é»˜è®¤å€¼ / è¯´æ˜ / ç¤ºä¾‹">
#### å¤‡æ³¨

è¿”å› `true` çš„è„šæœ¬ä¼šæ‰§è¡Œ class åç§°è½¬è¯‘ï¼Œå»ºè®®ä¿æŒå¯¹ `node_modules` çš„æ’é™¤ã€‚

#### é»˜è®¤å€¼

```ts
name => !name.includes('node_modules') && /.+\\.[cm]?js?$/.test(name)
```

#### ç¤ºä¾‹

```ts
import { UnifiedViteWeappTailwindcssPlugin as uvtw } from 'weapp-tailwindcss/vite'

uvtw({
  jsMatcher: name => !name.includes('node_modules') && /\\.m?js$/.test(name),
})
```

å‚æ•°ï¼š`name: string`

è¿”å›ï¼š`boolean`

</OptionDetails>
</OptionCard>

<OptionCard>

### mainCssChunkMatcher

> å¯é€‰ | ç±»å‹: `(name: string, appType?: AppType) => boolean`

å®šä¹‰äº: [packages/weapp-tailwindcss/src/types/user-defined-options/matcher.ts:29](https://github.com/sonofmagic/weapp-tailwindcss/blob/59073fec6f66bb3fbd1d15468f6e89437dc3f862/packages/weapp-tailwindcss/src/types/user-defined-options/matcher.ts#L29)

åŒ¹é…è´Ÿè´£æ³¨å…¥ Tailwind CSS å˜é‡ä½œç”¨åŸŸçš„ CSS Bundleã€‚

<OptionDetails title="é»˜è®¤å€¼ / è¯´æ˜ / ç¤ºä¾‹">
#### å¤‡æ³¨

åœ¨å¤„ç† `::before`/`::after` ç­‰ä¸å…¼å®¹é€‰æ‹©å™¨æ—¶ï¼Œå»ºè®®æ‰‹åŠ¨æŒ‡å®šæ–‡ä»¶ä½ç½®ã€‚

#### é»˜è®¤å€¼

```ts
const MPX_STYLES_DIR_PATTERN = /(?:^|\\/)styles\\/.*\\.(?:wx|ac|jx|tt|q|c|ty)ss$/i

function normalizePath(value) {
  return value.replace(/\\\\/g, '/')
}

function matcher(name, appType) {
  if (!appType) {
    return true
  }
  if (appType === 'uni-app') {
    return name.startsWith('common/main') || name.startsWith('app')
  }
  if (appType === 'uni-app-vite') {
    return name.startsWith('app') || name.startsWith('common/main')
  }
  if (appType === 'mpx') {
    const normalized = normalizePath(name)
    if (normalized.startsWith('app')) {
      return true
    }
    return MPX_STYLES_DIR_PATTERN.test(normalized)
  }
  if (appType === 'taro' || appType === 'remax' || appType === 'native') {
    return name.startsWith('app')
  }
  if (appType === 'rax') {
    return name.startsWith('bundle')
  }
  if (appType === 'kbone') {
    return /^(?:common\\/)?miniprogram-app/.test(name)
  }
  return true
}
```

#### ç¤ºä¾‹

```ts
import { UnifiedViteWeappTailwindcssPlugin as uvtw } from 'weapp-tailwindcss/vite'

uvtw({
  mainCssChunkMatcher: name => name.startsWith('app') || name.startsWith('common/main'),
})
```

å‚æ•°ï¼š`name: string`ï¼›`appType?: AppType`

è¿”å›ï¼š`boolean`

</OptionDetails>
</OptionCard>

<OptionCard>

### wxsMatcher

> å¯é€‰ | ç±»å‹: `(name: string) => boolean` | é»˜è®¤å€¼: `()=>false`

å®šä¹‰äº: [packages/weapp-tailwindcss/src/types/user-defined-options/matcher.ts:40](https://github.com/sonofmagic/weapp-tailwindcss/blob/59073fec6f66bb3fbd1d15468f6e89437dc3f862/packages/weapp-tailwindcss/src/types/user-defined-options/matcher.ts#L40)

åŒ¹é…å„ç«¯çš„ `wxs`/`sjs`/`.filter.js` æ–‡ä»¶ã€‚

<OptionDetails title="é»˜è®¤å€¼ / è¯´æ˜ / ç¤ºä¾‹">
#### å¤‡æ³¨

é…ç½®å‰è¯·ç¡®ä¿åœ¨ `tailwind.config.js` çš„ `content` ä¸­åŒ…å«å¯¹åº”æ ¼å¼ã€‚

è‹¥åŒæ—¶å¤„ç†å†…è” `wxs`ï¼Œè¯·é…åˆ [`inlineWxs`](#inlinewxs) å¼€å¯ã€‚

#### é»˜è®¤å€¼

```ts
()=>false
```

#### ç¤ºä¾‹

```ts
import { UnifiedViteWeappTailwindcssPlugin as uvtw } from 'weapp-tailwindcss/vite'

uvtw({
  wxsMatcher: name => /\\.(?:wxs|sjs|filter\\.js)$/.test(name),
})
```

å‚æ•°ï¼š`name: string`

è¿”å›ï¼š`boolean`

</OptionDetails>
</OptionCard>

