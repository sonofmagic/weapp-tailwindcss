---
id: tailwind-core
title: Tailwind 设计理念与对比
description: Tailwind 的核心特性、与 UnoCSS 的取舍，以及 tailwind-merge/cva/tailwind-variants 思想
sidebar_position: 3
---

## 更像实战笔记

- Tailwind 把「设计 token → 类名 → 插件 → 产物」做成闭环，加上 `tailwind-merge`/`cva`/`tailwind-variants`/IDE 提示，默认路就很宽；如果不想自己养 preset/merge 规则，就选它。
- UnoCSS 灵活得像乐高：任意规则、任意 preset，但 merge/类型提示要自己兜底，团队需要有人养规则库；适合愿意自定义、且已有内部 preset 的团队。

> 深入阅读：
> - [Tailwind vs UnoCSS 对比](./tailwind-vs-unocss)
> - [tailwind-merge、cva、tailwind-variants 精要](./merge-and-variants)

## 核心特性速览（顺便说说坑）

- **JIT + content 精准扫描**：只生成用到的类。content 太宽（如 `./src/**/*` 加上动态字符串）会让产物膨胀，建议精确到模板目录；SSR/RSC 场景需保证 server 侧也能扫描到。
- **分层**：`@layer base/components/utilities` 控制覆盖优先级。`@apply` 可用，但别跨层堆叠；出现冲突优先回到 variants 工厂解决。
- **variants**：`md:`、`hover:`、`group-`/`peer-`、`aria-`、`data-`，以及自定义 variant。关系类很强大，但如果嵌套过多，可读性会崩，最好有 lint/评审清单。
- **Design token 对齐**：把色板、间距、圆角写成 tokens（CSS 变量或 `@theme`），类名只引用语义，不直接写 `#fff`。切换品牌/暗色时，只改 tokens。
- **插件与生态**：typography/forms/line-clamp/animate 等官方插件，加上 shadcn/ui、reka-ui 的大量范式与可复制代码。选 Tailwind 的核心理由之一是「社区资产可直接拿来」。


## RSC/SSR/HMR 下的注意点（踩坑后总结）

- RSC（React Server Components）：确保 `content` 能扫描到 server 组件模板；避免在服务器拼接动态类名；`tailwind-merge`/`cva` 可安全用于 server 端。
- SSR：Tailwind v4 产物可直接 SSR；注意 preflight 是否与宿主冲突，必要时局部关闭或按 route 注入。
- HMR：JIT 很快，但自定义插件过多会拖慢冷启动；遇到慢启动时先收紧 `content`，再检查插件链。

### 快速验证命令（建议在分享或评审前执行）

- 安装依赖：`pnpm install`
- React Demo：`pnpm --filter react-app dev`，Vue Demo：`pnpm --filter vue-app dev`
- 文档构建：`pnpm --filter website build`（或 `pnpm build:docs` 若存在别名）
- 体积检查：`pnpm --filter react-app build` 或 `pnpm --filter vue-app build`，结合浏览器 Coverage 查看实际命中类。
- Merge 校验：在 Demo 中故意写 `p-4 p-2`，确认 `tailwind-merge` 去重；调整 `button-variants` 的自定义色/尺寸后确认冲突被正确覆盖。

## preflight 与 @apply 注意事项

- preflight 会重置全局样式：在组件库/微前端场景要确认不与宿主冲突，必要时局部关闭。
- `@apply` 适用于提炼重复类，但避免跨层引用或堆叠太多原子类；当出现冲突时优先回到 `cva`/`tv` 的 variants 声明。
